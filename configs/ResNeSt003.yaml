globals:
  seed: 42
  device: cuda
  max_epochs: 50
  output_dir: output
  minimize_metric: False
  timestamp: None
  only_pred: True
  folds:
    - 0
  debug: False
  kaggle: False

mlflow:
    experiment_name: rainforest
    tags:
      config_filename: None
      timestamp: None
      model_name: None
      loss_name: None
      hash_value: None
      LB Score: None
      fold: None
      message: add mixup

data:
  root: ./
  use_train_data:
    - tp
   #  - fp 
  train_tp_df_path: input/rfcx-species-audio-detection/train_tp.csv
  train_fp_df_path: input/rfcx-species-audio-detection/train_fp.csv
  train_audio_path: input/rfcx-species-audio-detection/train
  test_audio_path: input/rfcx-species-audio-detection/test
  sub_df_path: input/rfcx-species-audio-detection/sample_submission.csv


dataset:
  name: SpectrogramDataset
  height: 224
  width: 400
  shift_time: 10
  params:
    n_mels: 128
    fmin: 80
    fmax: 15000
    power: 1.5

loss:
  name: lsep_loss_stable  # LwlrapLoss  BCEWithLogitsLoss  lsep_loss
  num_classes: 24
  params:
    pos_weight: None

optimizer:
  name: Adam
  params:
    lr: 0.001

scheduler:
  name: CosineAnnealingLR
  params:
    T_max: 10

split:
  name: StratifiedKFold
  params:
    n_splits: 5
    random_state: 42
    shuffle: True

model:
  name: ResNeSt50
  params:
    pretrained: True
    num_classes: 24

loader:
  train:
    batch_size: 20
    shuffle: True
    num_workers: 10
  valid:
    batch_size: 20
    shuffle: False
    num_workers: 10
  test:
    batch_size: 20
    shuffle: False
    num_workers: 10

transforms:
  train:
    # - name: NoiseInjection
    #   params:
    #     max_noise_level: 0.04
    # - name: PitchShift
    #   params:
    #     max_range: 3
    # - name: RandomVolume
    #   params:
    #     limit: 4
  valid:
  test:

mixup:
  flag: True 
  alpha: 0.2
  prob: 0.5